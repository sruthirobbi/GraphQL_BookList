(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,n,t){e.exports=t(37)},32:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(3),r=t.n(a),o=t(22),l=t.n(o),c=(t(32),t(12)),i=t(8),u=t(15),m=t(11),d=t(16);function b(){var e=Object(d.a)(["\n    query($id:ID){\n            book(id:$id){\n                name,\n                genre,\n                id,\n                author{\n                    id,\n                    name,\n                    age,\n                    book{\n                        name\n                        id\n                    }\n                }\n            }\n        }\n"]);return b=function(){return e},e}function s(){var e=Object(d.a)(["\n    mutation($name:String!,$genre:String!,$authorId:ID!){\n        addBook(name:$name,genre:$genre,authorId:$authorId){\n            name,\n            id\n        }\n    }\n"]);return s=function(){return e},e}function v(){var e=Object(d.a)(["\n    {\n        authors{\n            name,\n            id\n        }\n    }\n"]);return v=function(){return e},e}function E(){var e=Object(d.a)(["\n{\n    books{\n        name\n        id\n        genre\n    }\n}\n"]);return E=function(){return e},e}var h=Object(c.b)(E()),g=Object(c.b)(v()),f=Object(c.b)(s()),k=Object(c.b)(b());var j=function(e){var n=Object(m.b)(k,{variables:{id:e.bookid}}),t=n.loading,a=(n.error,n.data);return t?r.a.createElement("div",null,"Book Details Loading..."):r.a.createElement("div",{id:"bookDetails"},function(){e.bookid.book;return console.log("********",a),a?r.a.createElement("div",null,r.a.createElement("h2",null,a.book.name),r.a.createElement("p",null,a.book.genre),r.a.createElement("p",null,a.book.author.name),r.a.createElement("p",null,"All Books by this author: "),r.a.createElement("ul",{className:"other-books"},a.book.author.book.map((function(e){return r.a.createElement("li",{key:e.id},e.name)})))):r.a.createElement("div",null,"No Book Selected")}())};var O=function(){var e=Object(a.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1],l=Object(m.b)(h),c=l.loading,i=l.error,d=l.data;return c?r.a.createElement("div",null,"Books Loading..."):i?r.a.createElement("div",null,"Error Loading..."):r.a.createElement("div",null,r.a.createElement("ul",{id:"book-list"},d.books.map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(n){return o(e.id)}},e.name," ")}))),r.a.createElement(j,{bookid:t}))},p=t(13);var y=function(){var e=Object(a.useState)({name:"",genre:"",authorId:""}),n=Object(u.a)(e,2),t=n[0],o=n[1],l=Object(m.a)(f),c=Object(u.a)(l,1)[0],i=Object(m.b)(g),d=i.loading,b=(i.error,i.data);return d?r.a.createElement("div",null,"Authors Loading...."):r.a.createElement("form",{id:"add-book",onSubmit:function(e){e.preventDefault(),c({variables:{name:t.name,genre:t.genre,authorId:t.authorId},refetchQueries:[{query:h}]})}},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Book Name:"),r.a.createElement("input",{type:"text",value:t.name,onChange:function(e){return o(Object(p.a)(Object(p.a)({},t),{},{name:e.target.value}))}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Genre:"),r.a.createElement("input",{type:"text",value:t.genre,onChange:function(e){return o(Object(p.a)(Object(p.a)({},t),{},{genre:e.target.value}))}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Author:"),r.a.createElement("select",{onChange:function(e){return o(Object(p.a)(Object(p.a)({},t),{},{authorId:e.target.value}))},value:t.authorId},r.a.createElement("option",null,"Select Author"),b.authors.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("button",{type:"submit"},"+"))},I=new c.a({uri:"/graphql"});var w=function(){return r.a.createElement(i.a,{client:I},r.a.createElement("div",{id:"main"},r.a.createElement("h1",null,"Book List"),r.a.createElement(O,null),r.a.createElement(y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.f8a00d59.chunk.js.map